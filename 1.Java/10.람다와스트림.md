# 1. 람다

## 1-1. 람다식
람다식이란, 간단히 말해서 하나의 메서드를 식으로 나타낸 것을 말한다. 람다식은 함수를 간략하면서도 명확한 식으로 표현할 수 있게 해준다.

```java
/** 람다식을 사용한 경우 **/
int[] arr = new int[5];
Arrays.setAll(arr, (i) -> (int) (Math.random() * 5)+1);

/** 람다식을 사용하지 않은 경우 **/
int method() {
  return (int) (math.random() * 5) + 1; 
}
```

## 1-2. 람다식 작성하기
람다식은 "익명 함수"이다. 람다식은 아래와 같은 방법으로 작성해 나아갈 수 있다.
  1. 익명 함수 답게 메서드에서 이름과 반환타입을 제거하고 매개변수 선언부와 몸통 "{}" 사이에 "->" 를 추가한 형태이다. 
  2. 반환값이 존재할 경우, return 문 대신에 식으로 대신할 수 있다. 식이므로, 해당 식의 끝에는 ";"가 붙지않는다.
  3. 추론 가능한 경우, 선언된 매개변수에 타입을 생략하여 사용할 수 있다.


## 1-3. 함수형 인터페이스(Functional Interface
자바에서 모든 메서드는 클래스 내에 포함되어야 하는데, 람다식은 어떤 클래스에 속하여 있는 것일까? **사실 람다식은 익명 클래스의 객체와 동일하다.** 
아래의 예시를 통하여 살펴보도록 하자.


아래와 같이 max()라는 메서드가 정의된 MyFunction인터페이스가 정의되어 있다고 가정하자. 
```java
interface MyFunction {
  public abstract int max(int a, int b);
}
```


그리고 이 인터페이스를 구현한 익명 클래스의 객체는 다음과 같이 생성 및 사용할 수 있다.
```java
MyFunction f = new MyFunction() {
                  public int max(int a, int b) {
                    return a > b ? a : b;     
                  }
               };
               
int big = f.max(5, 3);
System.out.println(big);
// result : 5
```


MyFunction 에 정의된 메서드는 람다식 메서드의 선언부와 일치한다. 따라서 아래와 같이 대체할 수 있다.
```java
MyFunction f = (int a, int b) -> a > b ? a : b;
int big = f.max(5, 3);
}
```


**이렇게 사용이 가능한 이유는 사실 람다식이 익명 객체이기 때문이다.** 이 때 인터페이스에서 선언한 메서드와 매개변수의 타입과 개수 그리고 반환값이 일치하여야 한다.
이 때 MyFunction을 함수형 인터페이스라고 한다. **@FunctionalInterface** 를 붙이면 컴파일러가 함수형 인터페이스를 올바르게 정의하였는지 확인해 주므로, 꼭 붙이도록 한다.
```java
@FunctionalInterface
interface MyFunction {
  public abstract int max(int a, int b);
}
```

## 1-4. 람다식의 타입과 형변환
람다식은 익명 객체이고, 익명 객체는 타입이 없다. 단지 함수형 인터페이스로 람다식을 참조할 수 있는 것일 뿐이다. 정확히 말하자면 람다식도 타입이 존재하나, 컴파일러가 임의로 이름을 정하기 때문에 알 수 없다. 그래서 대입 연산자를 이용할 때는 아래와 같이 형변환이 필요하다.
```java
/**  Functional Interface **/
@FunctionalInterface
interface MyFunction {
  void method();
}

/** 인터페이스 구현부 **/
MyFunction f = (MyFunction) (() -> {});
```

위에서 람다식이 MyFunction 인터페이스를 직접 구현하지는 않았지만, 이 인터페이스를 구현한 클래스의 객체와 완전히 동일하기 때문에 위와 같은 형변환이 가능하며, 이 형변환은 생략이 가능하다.

하지만 아래와 같이 Object 타입으로는 받을 수 없다. 람다식은 오직 함수형 인터페이스만으로 형변환이 가능하다.
```java
 Object obj = (Object) (() -> {}); // ERROR
```

## 1-5. java.util.function 패키지
대부분의 메서드는 타입이 비슷하다. 매개변수가 없거나, 한개 또는 두개를 가지며, 반환값은 없거나, 한 개, 게다가 제네릭 메서드로 정의하면 매개변수나 반환타입이 달라도 문제가 되지 않는다. 그래서 java.util.function 패키지 내에 일반적으로 자주 쓰이는 형식의 메서드를 미리 정의하였다. *가능하면 아래의 미리 정의된 메서드를 사용하도록 하자.*

<p align="center">
  <img src="./image/JavaUtilFunction.png" />
</p>


#### 조건식 표현에 사용되는 Predicate
```java
// 조건식 정의
Predicate<String> isEmptyStr = s -> s.length() == 0;

String s = "";	

if(isEmptyStr.test(s)) {
  System.out.println("This is Empty String");
}
```


