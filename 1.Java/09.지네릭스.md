# 1. Generic

## 1-1. Generic 이란?
Generic는 다양한 타입의 객체들을 다루는 메서드나 컬렉션 클래스에 컴파일 시의 타입 체크를 해주는 기능이다. 컴파일 시에 체크하기 때문에 객체의 타입 안정성을 높이고 형변환의 번거로움이 줄어든다. 

### Generic의 장점
1) 타입 안정성을 제공한다.
2) 타입체크와 형변환을 생략할 수 있으므로 코드가 간결해 진다.

### Generic의 예시
아래와 같이 기존 클래스를 Generic 타입의 클래스로 선언할 수 있다. 이 때 사용되는 T는 타입 변수("Type Variable") 의 첫글자에서 따온 것이다. 마찬가지로, 배열에서의 ArrayList<E>는 Element, Map<K, V>에서는 각각 Key, Value를 의미한다. 사실 이 들은 기호만 다를 뿐 의미하는 바는 모두 같다. **허나 앞선 예시처럼 상황에 맞는 의미있는 문자를 선택하여 사용하는 것이 좋다.**

```java
/** Before **/
class Box {
  Object item;
  
  void setItem(Object item) {
    this.item = item;
  }
  
  Object getItem() {
    return item;
  }
}

/** After **/
class Box<T> {
  T item;
  
  void setItem(T item) {
    this.item = item;
  }
  
  T getItem() {
    return item;
  }
}
```

Generis 클래스가 된 Box클래스의 객체를 생성할 때는 다음과 같이 참조변수와 생성자에 타입 T 대신에 사용될 실제 타입을 지정하면 된다.

```java
/** Usage **/
Box<String> b = new Box<String>();  // 실제 타입 지정
b.setItem("ABC");                   // if) b.setItem(new Object()); -> ERROR ! String으로만 지정 가능
String item = b.getItem();          // 형변환 생략가능
```

String으로 지정하였으므로 아래와 같이 정의된 것과 같다.

```java
class Box {
  String item;
  
  void setItem(String item) {
    this.item = item;
  }
  
  String getItem() {
    return item;
  }
}
```
  
## 1-2.Generics 용어
타입 문자 T는 Generic 클래스 Box<T>의 타입 변수 또는 타입 매개변수라고 한다. 메서드의 매개변수와 유사한 면이 있기 때문이다. 그래서 아래와 같이 타입 매개변수에 타입을 지정하는 것을 '지네릭 타입 호출'이라고 하며, 지정된 타입(ie.String)를 '매개변수화된 타입'이라고 한다.

<p align="center">
  <img src="./image/Generics.jpg" />
</p>
  
## 1-3. 제한된 Generic 클래스
타입 매개변수 T에 지정할 수 있는 타입의 종류를 제한할 수 있는 방법이 존재한다. 이는 'extends'를 사용하는 것이다. 아래의 코드와 같이 사용하면 특정 타입(Fruit)의 자손들만 대입할 수 있도록 제한할 수 있다.

```java
// Fruit의 자손타입만 지네릭 매개변수로 들어갈 수 있다.
class FruitBox<T extends Fruit> {        
  ArrayList<T> list = new ArrayList<T>(); 
}  
```  

## 1-4. 와일드 카드
Generic 사용 시 아래의 예시와 같이 오버로딩을 사용할 수 있을까?
  
```java
Juice makeJuice(FruitBox<Fruit> Box) {
  Strung tmp = "";
  for (Fruit f : box.getList()) {
    tmp += f + " ";
    return new Juice(tmp);
  }
}
  
Juice makeJuice(FruitBox<Apple> Box) {
  Strung tmp = "";
  for (Fruit f : box.getList()) {
    tmp += f + " ";
    return new Juice(tmp);
  }
}
```  
  
**결론은 오버로딩할 수 없다.** 컴파일에러가 발생한다. 왜냐면 Generic 타입은 컴파일러가 컴파일할 때만 사용되고 제거되기 때문이다. 따라서 위의 경우에는 메서드 중복 정의가 된다. 이럴 때 사용하는 것이 와일드카드 이며, "?" 기호를 사용한다.
  
T 타입에 ?를 넣는 것은 <Object>와 다를 것이 없다. 따라서 extends 혹은 super를 통하여 상한 혹은 하한 제한을 할 수 있다.
```
  <? extends T> : 상한제한, T와 그 자손들만 가능
  <? super T>   : 하한제한, T와 그 조상들만 가능
  <?>           : 제한없음, <? extends Object>와 동일
```
